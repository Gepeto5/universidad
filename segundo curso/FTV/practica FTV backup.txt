<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        <script>

            var nomPElec = ["Placa ABS", "Centralita encendido", "Bornes cableado", "Alternador", "Encendido"];
            var nomPMec = ["Larguero inferior", "Guardabarros", "Larguero superior", "Subchasis", "Puerta"];
            var pot = [1, 5, 10, 20];
            var volt = [3.3, 5, 12, 240];
            var material = ["acero", "titanio", "carbono"];
            var letras = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
            var numeros = "1234567890";
            var fecha = "5/6/2015";

            function codRand() {
                var cod = "";
                for (var i = 0; i < 10; i++) {
                    cod += numeros.charAt(Math.floor(Math.random() * numeros.length));
                }
                cod += letras.charAt(Math.floor(Math.random() * letras.length));
                return cod;
            }

            function fabrica() {
                /*
               var piezas= factoria(100);
               var texto="";
                for(var i=0;i<35;i++){
                    texto += piezas[i].cod;
                }
                return texto;
                */
            }

            function factoria(numPiezas) {
                var piezasE = new PiezasGen();
                var piezasM = new PiezasGen();
                var piezasTot = new piezasGen();
                for (var i = 0; i < numPiezas * 0, 3; i++) {
                    piezasE[i].nombre=nomPElec[(Math.floor((Math.random() * 5) + 1)) - 1];
                    piezasE[i].cod = codRand() + "E";
                    piezasE[i].fecha= fecha;
                    piezasE[i].prototype.potencia = pot[(Math.floor((Math.random() * 4) + 1)) - 1];
                    piezasE[i].prototype.voltaje = volt[(Math.floor((Math.random() * 4) + 1)) - 1];
                }
                for (var i = 0; i < numPiezas * 0, 7; i++) {
                    piezasM[i].nombre = nomPMec[(Math.floor((Math.random() * 5) + 1)) - 1];
                    piezasM[i].cod = codRand() + "M";
                    piezasM[i].fecha = fecha;
                    piezasM[i].prototype.material = pot[(Math.floor((Math.random() * 3) + 1)) - 1];
                }
                piezasTot = piezasE.concat(piezasM);
                //return piezasTot;
                return piezasTot[1].nombre;
            }

            function estacionTrat(piezas, numPiezas, procesamiento) {
                for (var i = 0; i < numPiezas; i++) {
                    if (piezas[i].cod.charAt(11) === "E") {
                        if (piezas[i].potencia === 1 || piezas[i].potencia === 5) {
                            piezas[i].prototype.procesamiento = "barnizada normal";
                        } else if (piezas[i].potencia === 10 || piezas[i].potencia === 20) {
                            piezas[i].prototype.procesamiento = "barnizada especial";
                        }
                    } else if (piezas[i].cod.charAt(11) === "M") {
                        if (piezas[i].material === "acero") {
                            piezas[i].prototype.procesamiento = "galvanizada";
                        } else if (piezas[i].material === "titanio") {
                            piezas[i].prototype.procesamiento = "pulida";
                        } else if (piezas[i].material === "carbono") {
                            piezas[i].prototype.procesamiento = "pintada";
                        }
                    }
                }
            }

            function piezasGen(nombre, cod, fecha) {
                // var rand=Math.floor((Math.random() * 2) + 1);   
                this.nombre = nombre;
                this.cod = cod;
                this.fecha = fecha;             
            }

            function piezasElec(potencia, voltaje) {
                this.potencia = potencia;
                this.voltaje = voltaje;
            }

            function piezasMec(material) {
                this.material = material;
            }
            
            
        </script>
    </body>
</html>
